apply plugin: 'java'
apply plugin: 'jacoco'


sourceCompatibility = '1.8'
targetCompatibility = '1.8'

def defaultEncoding = 'UTF-8'

tasks.withType(AbstractCompile) each { it.options.encoding = defaultEncoding }

test {
  testLogging.showStandardStreams = true
}

repositories {
  jcenter()
}

dependencies {
  compile group: 'org.apache.logging.log4j', name: 'log4j-api', version: '2.5'
  compile group: 'org.apache.logging.log4j', name: 'log4j-core', version: '2.5'
  testCompile 'junit:junit:4.12'
}


task doTest(type: JavaExec) {
  description 'evaluate BigInteger#nextProbablePrime() with the data at http://www.utm.edu/~caldwell/primes/millions/primes1.zip to primes50.zip '
  main = "testprime.Main"
  classpath = sourceSets.main.runtimeClasspath
}

task doTestOneFile(type: JavaExec) {
  description 'evaluate with values in primelist.txt'
  main = "testprime.TestOneFile"
  classpath = sourceSets.main.runtimeClasspath
}
